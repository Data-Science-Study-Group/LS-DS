---
title: "Carseat Sales "  
author: "LearningSpoonsR "
date: "`r Sys.Date()`"  
fontsize: 9pt  
output:  
  beamer_presentation:  
    theme: "Singapore"   
    # For code line number, choose among   
    # ["Antibes", "Montpellier", "Singapore", "Szeged"]  
    colortheme: "beaver"   
    # For Singapore - ["beaver": print-friendly, "beetle": grey]  
    latex_engine: xelatex  
    # keep_tex: true  
    # template: myTemplate.tex  
    includes:  
      in_header: myRmdBeamerStyle/latex-topmatter.tex  
classoption: t  
mainfont: NanumGothic  
---  

```{r setup, include=FALSE}
library(rmarkdown)
library(dplyr)
library(ggplot2)
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(background = '718CBA')
```

## Contents  

+ Part 1. 수집 - from `ISLR` package    
+ Part 2. 전처리 - `dplyr`    
+ Part 3. 분석 & 시각화 - `ggplot2`  
+ Part 4. 문서화 - `rmarkdown`  

\vspace{20pt}
  
+ 간단한 프로젝트를 진행하면서 R의 기능과 관련 문법을 알아봅니다.   
+ `ISLR`은 Introduction to Statistical Learning in R이라는 책에 포함된 함수와 데이터를 포함한 패키지입니다.  
+ `dplyr`은 R에서 데이터 사이언스의 근간이 되는 `data.frame`을 효율적으로 다루는 패키지입니다.    
+ `rmarkdown`은 R의 결과물을 포함한 문서를 만들어 내는 패키지입니다.  

##  

\vspace{30pt}
\begin{center}
\Huge{Part 1. 수집 - from "ISLR" package}
\end{center}


## 패키지 (package, 응용프로그램, library)  

- R을 처음에 설치하면 `base`라는 패키지가 인스톨 되어있음.  
- `base`외의 확장 기능을 제공하는 패키지를 설치하여 사용하게 됨.  
- R은 오픈 소스 기반 언어로써, 누구나 패키지를 만들고 R프로그램의 발전에 기여할 수 있음.  
- R과 Python과 같은 오픈소스 언어에서는 많은 사람들이 많은 패키지를 만들고 많은 사람들이 사용하면서 발전이 일어남.  
- 본 수업에서는 R에서 데이터 사이언스의 과정을 support하는 강력한 패키지 위주로 진행.  
- 각각의 패키지는 특정 데이터나 함수를 제공함.  

## 

- `base`외의 패키지를 사용하려면 먼저 설치를 해주어야 함.  
- 따옴표를 넣어서 문자열로 입력  

```{r, eval=FALSE}
install.packages("packageName")
```

\vspace{10pt}

- 설치이후에는 패키지 사용 전에 아래와 같이 패키지 사용을 선언해주어야 함.  
- 따옴표 없이 입력  

```{r, eval=FALSE}
library(packageName)
```

## 파일 (files)  

1. 소스 파일   
  + 명령어와 주석을 기록해둔 파일  
  + 한번에 실행이 가능한 단위로 구성  
  + 저장/불러오기/편집 등이 가능함 (Rstudio에서 마치 오피스 처럼 다룰 수 있음)   
  + `.r` : R 소스 파일  
  + `.Rmd` : R Markdown 소스파일  
  + 서식(폰트의 종류나 크기)이 없는 파일이기 때문에 메모장과 같은 텍스트 에디터에서도 저장/불러오기/편집이 가능함.  

## 

2. 데이터 파일   
  + 데이터가 기록된 파일  
  + `.csv`: 컴마로 구분된 파일 (Comma Separated Values)  
  + `.txt`: 더 일반적인 텍스트 파일.  `\t`(Tab)이나 `\n`(줄바꿈) 등의 기호로 구분되어 있음  
  + `.xls, xlsx`: 엑셀파일. 서식 등이 포함되어 있는 경우에는 [다른 이름으로 저장 – csv로 저장]하여 csv 파일로 저장하면 용량이 줄어들어서 다루기 좋은 경우가 많음.  엑셀 파일을 바로 불러오는 것도 특정 패키지를 이용하면 가능하고 점점 발전하고 있음.      
3. R 데이터 파일  
  + R에서 작업중인 데이터를 저장하고 불러오는 데 유용한 파일.  
  + `.Rdata`: R 작업시에 현재 메모리의 상태를 저장하고 나중에 불러올 수 있어서 작업을 이어서 하는데 유용   
  + `.Rda`: Data Structure 개체 (object) 1개를 저장하는 파일  

## 데이터 파일 불러오기/저장하기

0. 파일을 불러오면 R에서는 기본적으로 `data.frame`으로 받아들임
\vspace{10pt}
1. `csv`파일  

- 데이터 프레임을 생성하는 명령이기에 `stringsAsFactors = FALSE`의 옵션의 사용을 추천!  
- 만약에 데이터 파일의 첫 번째 line이 제목인 경우 이를 column name으로 만들 수 있음. (이게 default임, 즉 `header=TRUE`를 입력하지 않더라도 `header=TRUE`로 동작함)  
  
```{r, eval=FALSE}
dataset <- read.csv("fileName.csv", header = TRUE, stringsAsFactors = FALSE)
```

- 만약에 첫 번째 line이 제목이 아니라면 `header=FALSE`를 사용해야 겠죠?   

```{r, eval=FALSE}
dataset <- read.csv("fileName.csv", header = FALSE, stringsAsFactors = FALSE)
```  

- `data.frame`을 파일로 저장할 때에는 아래의 명령으로...  

```{r, eval=FALSE}
write.csv(dataset, "fileName.csv", header=TRUE)
write.csv(dataset, "fileName.csv", header=FALSE)
```

##  

2. `txt`파일  
  + `csv`파일과 매우 유사함. `csv`파일은 comma로 나누어져 있기에 별도의 입력이 필요하지 않지만, `txt`파일에서는 무엇으로 나누어져있는가를 입력해주어야 함. 이를 seperator(`sep`)라고 함.  
  + `read.csv` $\rightarrow$ `read.table("fileName.txt", header = FALSE, sep = "\t", stringsAsFactors = FALSE)`     
  + `write.csv` $\rightarrow$ `write.table(dataset, "fileName.txt")`  

3. `xls`, `xlsx`파일  

```{r, eval=FALSE}
library(readxl)
dataset <- read_excel("fileName.xlsx")
dataset <- read_excel("fileName.xlsx", col_names = FALSE)
           # (same as `header=FALSE`)
```

##  

4. R 데이터 파일  

- 데이터 셋 한개  
```{r, eval=FALSE}  
save(dataset, "fileName.rda")
load("fileName.rda")
```
\vspace{10pt}

- 현재 메모리의 모든 객체 (변수와 함수)  
```{r, eval=FALSE}  
save("fileName.Rdata")
load("fileName.Rdata")
```


## 경로 (디렉토리, directory)  

- **Rstudio를 어떻게 실행시켰냐에 따라서 현재 작업 디렉토리가 설정됨.**  
- Rstudio 아이콘을 더블클릭하여 실행하였을 때에는 시스템의 기본 설정대로 현재 작업 디렉토리가 됨.  
- 이미 존재하는 `.R`이나 `.Rmd` 파일을 더블클릭하여 Rstudio를 실행했을 때에는 해당 파일의 경로가 현재 작업 디렉토리가 됨.  
- 현재 작업 디렉토리를 확인하려면 `getwd()`를 실행.  
- 작업 디렉토리를 바꾸려면 `setwd("C:/LS-DS")`을 실행. 
- 디렉토리의 입력은 "`C:/LS-DS`", "`C://LS-DS`", "`C:\\LS-DS`"의 방식이 가능함.  

![](fig/fig1.png)\


## 도시별 카시트 세일즈 데이터 불러오기 (`ISLR` 패키지)    

```{r, eval=FALSE}
install.package("ISLR")
```

```{r}
library(ISLR)
class(Carseats)
head(Carseats)
```

## 

```{r}
tail(Carseats, 5)
View(Carseats)
dim(Carseats)
str(Carseats)
```

##  

```{r}
summary(Carseats)
```

## 
\vspace{30pt}
\begin{center}
\Huge{Part 2. 전처리 - "dplyr"}
\end{center}

## dplyr?  

1. 빠르고 직관적인 데이터를 다루는 패키지  
  + 가장 빠른 언어인 C를 기반으로 만들어서 빠름  
  + 데이터 처리에 있어서 가장 직관적인 SQL (Standard Query Language)과 유사하게 만들어져서 직관적임!  
  + 직관적이어서 코드 가독성도 높음  
  + **그러나 base 명령어도 같이 알아 두면 타인의 코드 참조와 파이썬, SQL등 다른 언어를 배울 때 도움이 됨**

2. Hadley Wickham   
  + Head Scientist, Rstudio   
  + youtube.com에 keynote등 좋은 동영상 많아요!  
  + 통계학 박사 후 R에서 다수의 사용하기 좋은 패키지 개발  
  + 누나도 통계학 전공 교수  
  + `ggplot2`, `dplyr`, `reshape2`, `stringr` 등의 본인이 작성한 패키지를 묶어서 `tidyverse`라는 패키지를 제작  

## Basic Manipulation  

+ tidy data.frame!  
  1. 개체 타입은 `data.frame`  
  2. 각각의 row는 관찰값을 의미  
  3. 각각의 column은 변수를 의미 

+ Basic Manipulation    
  1. `rename`: 변수 이름 바꾸기.  column의 이름을 바꿈 \br  
  2. `filter`: 관찰값 추출.  row를 선택함 \br    
  3. `select`: 변수 추출.  column을 선택함 \br  
  4. `arange`: 관찰값 정렬.  row를 재정렬함 \br   
  5. `mutate`: 변수 생성.  column을 만듬 \br   

##  

1. rename (이름 바꾸기)    

```{r, eval=FALSE}
Carseats <- rename(Carseats, Sales = Revenue)
names(Carseats)[names(Carseats)=="Sales"] <- "Revenue"
```

2. filter (관찰값 추출, Row 추출)  

```{r}
temp <- filter(Carseats, Income > 100)
temp <- Carseats %>% filter(Income > 100)
temp <- Carseats[Carseats$Income > 100,]

temp <- filter(Carseats, Age >= 30 & Age < 40)
temp <- Carseats %>% filter(Age >= 30 & Age < 40)
temp <- Carseats[((Carseats$Age >= 30) & (Carseats$Age < 40)),]
```

+ `&`는 "and"  
+ `|`는 "or"    


##

3. select (변수 추출, Column 선택)  

```{r}
temp <- select(Carseats, Income, Population)
temp <- Carseats %>% select(Income, Population)
temp <- Carseats[,c("Income", "Population")]
```

4. arrange (정렬)  

```{r}
Carseats <- arrange(Carseats, Price)
Carseats <- Carseats %>% arrange(Price)
Carseats <- Carseats[order(Carseats$Price),]

Carseats <- arrange(Carseats, desc(Price))
Carseats <- Carseats %>% arrange(desc(Price))
Carseats <- Carseats[order(Carseats$Price, decreasing = TRUE),]
```

##

5. mutate (새로운 변수)  

```{r}
Carseats$Revenue <- Carseats$Sales
Carseats <- mutate(Carseats, 
               AdvPerCapita = Advertising/Population,
               RevPerCapita = Revenue/Population)
Carseats <- Carseats %>% 
  mutate(AdvPerCapita = Advertising/Population,
         RevPerCapita = Revenue/Population)
Carseats$AdvPerCapita <- Carseats$Advertising/Carseats$Population
Carseats$RevPerCapita <- Carseats$Revenue/Carseats$Population

Carseats <- mutate(Carseats, AgeClass = ifelse(Age>=60, "Silver", "non-Silver"))
Carseats <- Carseats %>% mutate(AgeClass = ifelse(Age>=60, "Silver", "non-Silver"))
Carseats$AgeClass <- ifelse(Carseats$Age >= 60, "Silver", "non-Silver")
```

## Carseats

+ 해당 Carseat 회사의 주요 구매층은 아이를 낳아서 키울 나이인 30대 연령층입니다.   
+ 소득이 높으면서 도시의 평균 연령이 30대인 도시에 충분한 광고비를 지출하고 있는지 검토해보고 싶습니다.  
+ Learning how to program makes your brain more logical.  

##

```{r}
# successive treatments
focusCity <- Carseats %>% 
  filter(Income > 100) %>%
  filter(Age >= 30 & Age < 40) %>%
  mutate(AdvPerCapita = Advertising/Population) %>%
#  select(Sales, Income, Age, Population, Education, AdvPerCapita) %>%
  arrange(Sales)
print(focusCity)
```

##

+ 도시의 평균 나이가 20대, 30대, 40대 이상인 경우에 Revenue에 차이가 있을까요?  

```{r}
Carseats %>%
  mutate(AgeClass = 
           ifelse(Age < 30, "Twenties", 
                  ifelse(Age < 40, "Thirties", "FourtyAbove"))) %>%
  group_by(AgeClass) %>%
  summarise(avgRevenue = mean(Sales))
```

## Discussion  

+ 많은 데이터 분석은 "연속 변수"를 "이산 변수"로 변환하여, "이산 변수"의 group별 차이를 파악하는 접근을 사용합니다.  
+ Later...  
  1. `Age`를 factor로 잡아 `Sales`의 Boxplot.  
  2. `Age`를 factor로 잡아 scatterplot for `Population` & `Sales`.  
  3. **변수 3개**를 사용하는 습관    
  4. **공간**과 **시간**에 대한 동질성과 이질성을 생각하는 습관  

## Discussion   

+ 평균 나이에 따른 평균 Revenue의 차이는 무엇을 말해주나요?  
+ 평균 나이가 포함하지 못하고 있는 정보는 어떤 것이 있나요?  
+ 어떤 데이터가 있으면 더 좋을까요?  
+ 그 데이터가 있으면 어떻게 하실 건가요?  

## Discussion 

![](fig/fig3.png)\  
  
+ SQL (Standard Query Language)   
  1. 대용량 데이터 베이스와 통신하는 언어  
  2. R에서도 `sqldf`라는 패키지를 사용해서 SQL명령어로 작업할 수 있음.    
  3. R을 할 줄 아는 사람이 SQL을 배우는데 걸리는 시간 < 1 day  
     (얇은 책 하나만 사서 보시면 됩니다.)  
  4. 데이터를 보는 눈을 키워 줍니다.  
+ 데이터를 전처리하는 작업의 소요시간은 전체 프로젝트에서 80% 이상입니다.  

## Cheatsheet for `dplyr` (1)  

![](fig/fig4.png)\  

## Cheatsheet for `dplyr` (2)  

![](fig/fig5.png)\  

## 
\vspace{30pt}
\begin{center}
\Huge{Part 3. 분석 \& 시각화 - `ggplot2'}
\end{center}

\vspace{40pt}
\large{"The simple graph has brought more information to the data analyst’s mind than any other device."}
\newline
\large{(간단한 그래프는 다른 어떤 장치보다 데이터 분석가의 마음에 더 많은 정보를 제공합니다.)}
\newline
\large{- John Tukey}

## mpg  

+ `ggplot2` 패키지에 내장된 데이터셋  
+ 1999년 부터 2008년 까지의 38개 차종 연비 데이터  
+ 데이터셋 `diamond`와 함께 `ggplot` 관련 문서에서 가장 많이 예제로 쓰임.  

![](fig/fig6.png)\  

##  

```{r}
library(ggplot2)
? mpg  
mpg
class(mpg)
```

\vspace{10pt}

+ `mpg`는 여러개의 class의 특징을 가지고 있습니다.   
+ `tbl_df`는 `data.frame`의 업그레이드 버전입니다. (몇 가지 기능 추가)    

##   

\vspace{20pt}
\begin{center}
\Large{엔진이 크면 연비가 안 좋을까요?}
\end{center}

##  

+ 엔진 크기를 x축, 고속도로 마일리지를 y축으로 하는 산점도 (scatterplot)을 그려봅시다.  

```{r, fig.width=6, fig.height=3}
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy))
```

+ 엔진이 크면 연비가 안 좋나요?  
+ 추가적으로 궁금한게 있나요?  

```{r, eval=FALSE}
# basic ggplot command
ggplot(data = <DATA>) +
  <GEOM_FUNCTION>(mapping = aes(<MAPPING>))
```

##

```{r, fig.width=7, fig.height=3}
suppressMessages(library(gridExtra)) # grid.arrange()
a <- ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy, color = class))
b <- ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy, size = class))
grid.arrange(a, b, nrow=1, ncol=2)
```

##

```{r, fig.width=7, fig.height=3}
c <- ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy, alpha = class))
d <- ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy, shape = class))
grid.arrange(c, d, nrow=1, ncol=2)
```

+ a, b, c, d 중에 어느 그림이 가장 효과적인가요?  
+ 일반화 시키실 수 있나요? 즉, `size`, `alpha`, `color`, `shape`의 사용 기준은?  

## Aesthetics (`aes`) – size, alpha, color, shape

\begin{center}
\begin{tabular}{cccc}
변수 타입 & ggplot aes & 연속성 & 특징 \\ \hline
 & & & \\
Numeric & \texttt{size} & continuous (연속) &  더할 수 있음 \\
(quantitative, 정량적) & \texttt{alpha} & or discrete (이산) & 크고 작음 \\ 
& & & \\ \hline
& & & \\
Factor & \texttt{color (<10)} &  discrete (이산) &  더할 수 없음 \\
(qualitative, 정량적) & \texttt{shape (<7)} &   & 집합 연산 \\ 
& & & \\ \hline
\end{tabular}
\end{center}

##

\vspace{20pt}
\begin{center}
\Large{자주 쓰이는 ggplot의 추가 기능들}
\end{center}


## Facets (1 variable) - `facet_wrap`

```{r, fig.width=7, fig.height=4}
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy)) +
  facet_wrap(~ class, nrow = 2)
```

## Facets (2 variables) - `facet_grid`

```{r, fig.width=7, fig.height=4}
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy)) +
  facet_grid(drv ~ cyl)
```

## Discussion  

+ When or not to facet?  
1. Data가 충분히 많을 때 -> do facet  
2. Distribution 자체를 보고 싶을 때 -> do facet  
3. 근접 비교를 하고 싶을 때 -> don't facet  
4. factor 변수의 **갯수**를 고려해야 함 -> **magic number**


## Point vs Smooth

```{r, fig.width=7, fig.height=3.5}
e <- ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy))
f <- ggplot(data = mpg) + 
  geom_smooth(mapping = aes(x = displ, y = hwy))
grid.arrange(e, f, nrow = 1, ncol = 2)
```
    
## AES mapping의 중첩  

```{r, fig.width=7, fig.height=3}
g <- ggplot(data = mpg) + 
  geom_smooth(mapping = aes(x = displ, y = hwy))
h <- ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
  geom_smooth()
grid.arrange(g, h, nrow = 1, ncol = 2)
```

## Point + Smooth  

```{r, fig.width=7, fig.height=3}
i <- ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy)) +
  geom_smooth(mapping = aes(x = displ, y = hwy))
j <- ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
  geom_point() +
  geom_smooth()
grid.arrange(i, j, nrow = 1, ncol = 2)
```

##  

```{r, fig.width=7, fig.height=3}
k <- ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
  geom_smooth(aes(linetype = drv))
l <- ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
  geom_smooth(aes(linetype = drv)) + 
  geom_point(aes(color = drv))
grid.arrange(k, l, nrow = 1, ncol = 2)
```

## Summary - ggplot  

+ `Data`, `Aesthetic`, `Geometric Object`를 명시하여 그림을 rendering.  
+ `gridExtra` 패키지의 `grid.arrange` 함수를 이용하여 grid 형태로 위치시킬 수 있음    
+ `Size > Alpha > Color >= Shape` 의 특성을 이해  

```{r, eval=FALSE}
ggplot(data = <DATA>) + 
  <GEOM_FUNCTION>(mapping = aes(<MAPPING>))
```

1. 그림의 목적을 정하고   
2. X (explanatory variable – 설명 변수)의 개수와 각 변수의 중요도와 순서   
3. Y (dependent variable)를 명시  
4. ggplot 객체를 rendering  

## Carseat  

```{r}
str(Carseats)
```

##

```{r}
a <- ggplot(data = Carseats, aes(x = Advertising, y = Sales)) +
  geom_point(aes(color = Urban))
print(a)
```

## Amazingly Additive  

```{r}
a <- a + facet_wrap(~ Urban)
print(a)
```

##

+ 2 slides above...  

```{r, eval = FALSE}
a <- ggplot(data = Carseats, aes(x = Income, y = Sales)) +
  geom_point(aes(shape = Urban, color = US))
```

+ 1 slide above...

```{r, eval = FALSE}
a <- a + facet_wrap(~ floor(Age/10))
```

+ 두 가지 기능을 합하고 사용자가 선택할 수 있게 합니다.  
+ Aggregate these and give a choice!    

```{r, eval = FALSE}
doAgeFacet <- TRUE
a <- ggplot(data = Carseats, aes(x = Income, y = Sales)) +
  geom_point(aes(shape = Urban, color = US))
if (doAgeFacet) {
  a <- a + facet_wrap(~ floor(Age/10))
}
print(a)
```

```{r, eval = FALSE}
doAgeFacet <- FALSE
a <- ggplot(data = Carseats, aes(x = Income, y = Sales)) +
  geom_point(aes(shape = Urban, color = US))
if (doAgeFacet) {
  a <- a + facet_wrap(~ floor(Age/10))
}
print(a)
```

##

![](fig/fig7.png)\  

##  

![](fig/fig8.png)\  

## 

![](fig/fig9.png)\  

## More Reference  

1. ggplot관련 서적   
  + `Ref-external/books/ggplot2.pdf`   

2. ggplot의 50개 예제  
  + `Ref-internal/M91-ggplot2-50examples`  

3. ggplot의 10주년을 기념하는 article   
  + `Ref-internal/M92-GGplotHappyBday`  
  + <https://qz.com/1007328/all-hail-ggplot2-the-code-powering-all-those-excellent-charts-is-10-years-old/>  
  + 크롤링과 구글 번역 API를 이용하여 자동 번역 및 문서화  

##  

\vspace{30pt}
\begin{center}
\Huge{Part 4. 문서화 - "rmarkdown"}
\end{center}

\vspace{40pt}
\large{New Generation of Computer Programming}
\newline
\large{Literate Programming}

## 파일 -> 새파일 -> R Markdown

![](fig/fig10.png)\  

## html  

![](fig/fig11.png)\  

## pdf (/Ref-rmdTemplates/M81-pdf)

![](fig/fig12.png)\  

## docx

![](fig/fig13.png)\  

## ioslides

![](fig/fig14.png)\  


## slidy

![](fig/fig15.png)\  

## beamer (/Ref-rmdTemplates/M82-beamer)

![](fig/fig18.png)\  

## Example - 1주차 숙제   

![](fig/fig19.png)\  

##  

![](fig/fig20.png)\  

## 

![](fig/fig21.png)\  

## 

![](fig/fig22.png)\  

## 

![](fig/fig23.png)\  

## 

![](fig/fig24.png)\  

## More Reference  

1. Rstudio  
  + <http://rmarkdown.rstudio.com>
2. Reference (5 pages)
  + <https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf>
3. LaTex (pdf)  
  + <https://www.nyu.edu/projects/beber/files/Chang_LaTeX_sheet.pdf>

## Carseats (`M22-Carseats` 파일 참조)

![](fig/fig25.png)\   

##  

![](fig/fig26.png)\  

## Templates (`Ref-rmdTemplates/M8X`)   

+ `M81-pdf`: 2 columns, line numbering, page numbering  
+ `M82-beamer`: Singapore theme, line numbering, page numbering  
+ `M83-slidy`  
+ **주의: 하위폴더(rmd-pdf-template_files, myRmdBeamerStyle)까지 데리고 다녀야 됨**  

## Discussion - rmarkdown  

+ Markdown이라는 Markup Language로 변환하여 사용성 높음   
+ 변환 과정  
  1. Rmd -> md -> docx, html   
  2. Rmd -> md -> tex -> pdf  
+ 약간의 수정으로 여러가지 형식의 문서를 만들 수 있음      
+ 자연스럽게 문법에 맞는 Color Coding  
+ R output에 가장 비슷한 quality의 output을 얻을 수 있음.      
+ 분석 -> 정리의 반복적인 작업을 하나로 줄여줌.    

## Discussion – Literature Programming  

+ Features  
  1. 프로그래밍이 아닌 글쓰기가 초점       
  2. 데이터 분석 업무에 연관성이 높음!    
  3. 글을 쓴다는 것과 프로그래밍을 하는 것은 자기 자신을 표현하는 가장 높은 수준의 지적인 활동   
  4. 이것을 한꺼번에 할 수 있게 해주는 도구   
  5. !Express Yourself  

+ Advantages  
  1. 코드와 문서가 하나의 파일이라서 관리가 편함  
  2. 코드에서 주석을 조금만 달아도 됨  
  3. 코드만 있는 것에 비해서 의사소통이 용이함  
  4. 데이터나 분석의 결과가 달라지는 것이 문서에 즉각적으로 반영됨  
  5. 반복적으로 작성하는 문서 작업과 엑셀 작업을 안해도 됨  
  6. Colin Powell: “You don’t know what you will can get away with until you try”  

## pdf 파일 제작을 위한 tex 엔진 설치  

1. Texlive 2017 설치 (수백메가)  
  + <http://www.ktug.org/xe/index.php?mid=install>    

2. 한글 폰트 설치   
  + google "nanumgothic download"    
  + google "nanummyeongjo download"  
  + google "nanumgothiccoding download"  

3. 참고: google "latex beamer에서 한글 쓰기!"  

## 다른 programming language의 문법  

![](fig/fig27.png)\  

## 실습과제  

1. `C:/LS-DS/classProject`라는 폴더를 만드세요. \br 
2. Rstudio를 열어서 rmarkdown의 html형식에 해당하는 `classProject1.Rmd`파일을 만들어 위 폴더에 저장하세요. \br 
3. Rstudio를 닫고 `classProject1.Rmd`를 더블클릭하여 실행하면 working directory가 자동으로 위의 폴더가 됩니다. \br  
4. github에서 `lifeCountry.csv`파일을 다운받아서 위 폴더에 넣으세요. \br  
5. 이제 분석을 위한 모든 준비가 끝났습니다. \br  
6. Infile/Preprocessing을 해야합니다.  `classProject1.Rmd`에서 `lifeCountry.csv`를 불러와서 `data.frame`으로 저장합니다. \br  
7. 각 나라의 GDP와 기대수명에 대해서 산점도를 그리고 대륙에 따라서 점의 색깔이 달라지게 해보세요. \br    
8. 자유롭게 분석을 시작해보세요. \br 




