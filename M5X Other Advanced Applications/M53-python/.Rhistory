knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(background = '718CBA')
# options(encoding = 'euc-kr')
source("../../LSR.R")
activate("Quandl")
Quandl.api_key("SD27xu59qZmj-YCnxwDm")
MSFT <- Quandl("WIKI/MSFT")
str(MSFT)
class(MSFT)
MSFT <- MSFT[,c(1,6,12)]
head(MSFT)
class(MSFT)
dim(MSFT)
activate("xts")
MSFT_xts <- xts(MSFT[,-1], order.by = as.Date(MSFT[,1]))
head(MSFT_xts)
class(MSFT_xts)
dim(MSFT_xts)
MSFT_df <- data.frame(index(MSFT_xts), MSFT_xts)
head(MSFT_df)
class(MSFT_df)
rownames(MSFT_df) <- NULL
head(MSFT_df)
activate("lubridate")
theDay <- as.Date("2018-03-26")
a <- as.numeric(substr(theDay, 6, 7))-1 # subtract month
activate("stringr")
lastMonthDay <- as.Date(paste(
substr(theDay, 1, 4),
str_pad(a, 2, pad = "0"), # fill with leading zero
substr(theDay, 9, 10),
sep = "-"))
lastMonthDay
theDay - months(1)
floor_date(theDay, "month")
floor_date(theDay, "month")-days(1)
floor_date(theDay, "years")-1
floor_date(theDay, "month")-days(1)
floor_date(theDay, "years")-1
ceiling_date(theDay-years(1), "month")
theDay
ceiling_date(theDay-years(1), "month")
ceiling_date(theDay-years(1), "month") - 1
theDay-years(1)
ceiling_date(theDay-years(1), "month")
